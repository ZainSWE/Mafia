<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mafia Game</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Join or Host Page -->
  <div id="joinHost" style="display: block;">
    <h1 class="heading">Join a game:</h1>
    <input class="interactiveBox" id="playerNameJoin" type="text" placeholder="Username">
    <input class="interactiveBox" id="roomCode" type="text" placeholder="Room Code">
    <button class="redButton" id="joinButton" onclick="joinGame()">Join Game</button>
    <h1 class="heading">Host a game:</h1>
    <input class="interactiveBox" id="playerNameHost" type="text" placeholder="Username">
    <button class="redButton" id="hostButton" onclick="hostGame()">Host Game</button>
  </div>

  <!-- Lobby -->
  <div id="lobby" style="display: none;">
    <h1>Game Room</h1>
    <p id="roomInfo">Connecting...</p>

    <div id="players">
      <h2>Players</h2>
      <ul id="playerList"></ul>
    </div>

    <div id="leaveRoom">
      <button onclick="leaveRoom()">Leave Room</button>
    </div>

    <div id="hostOptions" style="display: none;">
      <h3>Host Settings</h3>
      <div>
        <h2>Game Settings</h2>
        <p>Discussion Time (minutes)</p>
        <input class="interactiveBox" type="number" id="discussionTime" step="1" min="1" placeholder="Number">
        <p>Number of Murderers</p>
        <input class="interactiveBox" type="number" id="numMurderers" step="1" min="1" placeholder="Number">
        <p>Number of Detectives</p>
        <input class="interactiveBox" type="number" id="numDetectives" step="1" min="0" placeholder="Number">
        <p>Number of Angels</p>
        <input class="interactiveBox" type="number" id="numAngels" step="1" min="0" placeholder="Number">
      </div>
      <button class="redButton" onclick="startGame()">Start Game</button>
    </div>
  </div>

  <!-- Role Card -->
  <div id="cardView" style="display: none;">
    <h2>Village</h2>
    <p id="role"></p>
    <button id="readyButton">Ready Up</button>
    <p id="statusText"></p>
  </div>

  <!-- Night Phase -->
  <div id="night" style="display: none;">
    <h1>It's Nighttime</h1>
    <div id="currentTurn"></div>

    <div id="roleDisplay" style="display: none;">
      <p id="roleAction"></p>
      <p id="roleInfo"></p>
      <div id="playerList2"></div>
      <div id="investigateSection" style="display: none;"></div>
      <button id="submitAction">Submit</button>
    </div>
  </div>

  <!-- Day Phase -->
  <div id="day" style="display: none;">
    <div id="discussion">
      <div id="discussionTimer"></div>
      <p id="discussionMessage"></p>
    </div>

    <div id="voting" style="display: none;">
      <h2>Voting Phase</h2>

      <div id="voteDisplay">
        <h3>Vote for a player to eliminate</h3>
        <div id="votingList"></div>
        <button id="submitVote">Submit Vote</button>
        <h2>Warning: If you click Submit you cannot change your vote!</h2>
      </div>

      <div id="voteDone" style="display: none;">
        <h2>Waiting for others to vote...</h2>
      </div>

      <div id="voteResults" style="display: none;">
        <h2>Vote Results</h2>
        <div id="voteResultList"></div>
        <h3 id="votedOutMessage"></h3>

        <div id="readyUpSection">
          <button id="readyButtonVote">Ready Up</button>
          <p id="statusText"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Dead Screen -->
  <div id="dead" style="display: none;">
    <h2>You have been eliminated</h2>
    <p>Wait for the game to finish...</p>
  </div>

  <!-- Game Over -->
  <div id="gameOver" style="display: none;">
    <h1>Game Over</h1>
    <p id="gameOverMessage"></p>
    <button class="redButton" onclick="leaveRoom()">Leave Room</button>
  </div>

  <script src="https://cdn.socket.io/4.7.1/socket.io.min.js"></script>
  <script src="app.js"></script>
  <style>
    .redButton {
      font-size: 20px;
      padding: 10px 20px;
      margin-top: 10px;
      cursor: pointer;
      border: none;
      border-radius: 20rem;
      background-color: white;
      color: black;
    }

    .redButton:hover {
      background-color: red;
    }
  </style>
</body>
</html>
